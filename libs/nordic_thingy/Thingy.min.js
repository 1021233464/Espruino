var f=V10,g=V11,m=V12,n=D22,h=[V13,V14,V15],k=D23,p=D24,e=D27,l=D29,b=new I2C;b.setup({sda:7,scl:8,bitrate:4E5});exports.I2C=b;var d=new I2C;d.setup({sda:14,scl:15,bitrate:4E5});exports.I2CE=d;exports.onAcceleration=function(a){a?(this.accel||(this.accel=require("LIS2DH12").connectI2C(d)),this.accel.callback=a,this.accel.setPowerMode("low")):(this.accel&&this.accel.setPowerMode("powerdown"),this.accel=void 0)};exports.getAcceleration=function(a){this.accel?this.accel.readXYZ(a):require("LIS2DH12").connectI2C(d).readXYZ(a)};
exports.onPressure=function(a){a?(this.pressure||(this.pressure=require("LPS22HB").connectI2C(b,{"int":k}),this.pressure.on("data",function(a){this.pressureCallback(a)}.bind(this))),this.pressureCallback=a):(this.pressure&&this.pressure.stop(),this.pressureCallback=this.pressure=void 0)};exports.getPressure=function(a){if(this.pressure)this.pressure.read(a);else{var c=require("LPS22HB").connectI2C(b,{"int":k});c.read(function(b){c.stop();a(b)})}};exports.onHumidity=function(a){a?(this.humidity||(this.humidity=
require("HTS221").connect(b,{"int":p}),this.humidity.on("data",function(a){this.humidityCallback(a)}.bind(this))),this.humidityCallback=a):(this.humidity&&this.humidity.stop(),this.humidityCallback=this.humidity=void 0)};exports.getHumidity=function(a){if(this.humidity)this.humidity.read(a);else this.onHumidity(function(c){this.onHumidity();a(c)}.bind(this))};exports.onGas=function(a){a?(this.gas||(f.set(),g.set(),m.reset(),this.gas=require("CCS811").connectI2C(b,{"int":n}),this.gas.on("data",function(a){this.gasCallback(a)}.bind(this))),
this.gasCallback=a):(this.gas&&(this.gas.stop(),g.reset(),f.reset()),this.gasCallback=this.gas=void 0)};exports.getGas=function(a){if(this.gas)a(this.gas.get());else this.onGas(function(c){this.onGas();a(c)}.bind(this))};exports.onColor=function(a){a?(this.color||(digitalWrite(h,0),this.color=require("BH1745").connectI2C(b),this.colorInt=setInterval(function(){this.colorCallback(this.color.read())}.bind(this),200)),this.colorCallback=a):(this.color&&(clearInterval(this.colorInt),this.color.stop(),
digitalWrite(h,7)),this.colorCallback=this.colorInt=this.color=void 0)};exports.getColor=function(a){if(this.color)a(this.color.read());else this.onColor(function(c){this.onColor();a(c)}.bind(this))};exports.sound=function(a,c,b){this.sounds||(this.sounds=0);if(2<this.sounds)throw Error("Too many sounds playing at once");var d=new Waveform(a.length);d.buffer.set(a);d.on("finish",function(a){this.sounds--;this.sounds||(l.reset(),digitalWrite(e,0));b&&b()}.bind(this));this.sounds||(analogWrite(e,.5,
{freq:4E4}),l.set());this.sounds++;d.startOutput(e,c)};E.on("init",function(){if(exports.accel&&exports.accel.callback){var a=exports.accel.callback;exports.accel=void 0;exports.onAcceleration(a)}exports.pressureCallback&&(exports.pressure=void 0,exports.onPressure(exports.pressureCallback));exports.humidityCallback&&(exports.humidity=void 0,exports.onHumidity(exports.humidityCallback));exports.gasCallback&&(exports.gas=void 0,exports.onGas(exports.gasCallback));exports.colorCallback&&(exports.color=
void 0,exports.onColor(exports.colorCallback))})