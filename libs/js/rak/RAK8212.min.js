var a={BME_CS:D2,BME_SDI:D3,BME_SCK:D4,BME_SDO:D5,PWR_GPRS_ON:D6,LTE_RXD:D7,LTE_CTS:D8,LTE_TXD:D9,LTE_RTS:D10,LIS2MDL_SCL:D11,LIS2MDL_SDA:D13,GPRS_RESET:D14,GPRS_PWRKEY:D15,LIS2MDL_INT:D16,BQ_EN:D17,LIS3DH_SCL:D18,LIS3DH_SDA:D19,TP5:D20,OPT_SDA:D26,OPT_INT:D22,OPT_SCL:D23,LIS3DH_INT1:D25,LIS3DH_RES:D26,LIS3DH_INT2:D27,SENSOR_DOUT1:D28,SENSOR_DOUT2:D29,TILT_DOUT:D30,GPS_RESET:D31};exports.setEnvOn=function(d,b){this.BME280&&this.BME280.setPower(!1);delete this.BME280;if(d){var c=new SPI;
c.setup({miso:a.BME_SDO,mosi:a.BME_SDI,sck:a.BME_SCK});b&&setTimeout(b,100,this.BME280);return this.BME280=require("BME280").connectSPI(c,a.BME_CS)}};exports.setMagOn=function(d,b){this.LIS2MDL&&this.LIS2MDL.off();delete this.LIS2MDL;if(d){var c=new I2C;c.setup({sda:a.LIS2MDL_SDA,scl:a.LIS2MDL_SCL});b&&setTimeout(b,100,this.LIS2MDL);return this.LIS2MDL=require("LIS2MDL").connectI2C(c,{"int":a.LIS2MDL_INT})}};exports.setAccelOn=function(d,b){this.LIS3DH&&this.LIS3DH.off();delete this.LIS3DH;if(d){var c=
new I2C;c.setup({sda:a.LIS3DH_SDA,scl:a.LIS3DH_SCL});b&&setTimeout(b,100,this.LIS3DH);return this.LIS3DH=require("LIS3DH").connectI2C(c,{"int":a.LIS3DH_INT1})}};exports.setOptoOn=function(d,b){this.OPT3001&&this.OPT3001.off();delete this.OPT3001;if(d){var c=new I2C;c.setup({sda:a.OPT_SDA,scl:a.OPT_SCL,bitrate:4E5});b&&setTimeout(b,1E3,this.OPT3001);return this.OPT3001=require("OPT3001").connectI2C(c,{"int":a.OPT_INT})}};exports.setCellOn=function(d,b){if(d)return(new Promise(function(c){Serial1.removeAllListeners();
Serial1.on("data",function(a){});Serial1.setup(115200,{tx:a.LTE_RXD,rx:a.LTE_TXD,cts:a.LTS_RTS});a.PWR_GPRS_ON.reset();setTimeout(c,200)})).then(function(){a.PWR_GPRS_ON.set();return new Promise(function(a){setTimeout(a,200)})}).then(function(){a.GPRS_PWRKEY.set();return new Promise(function(a){setTimeout(a,2E3)})}).then(function(){a.GPRS_PWRKEY.reset();return new Promise(function(a){setTimeout(a,5E3)})}).then(function(){Serial1.removeAllListeners();b&&setTimeout(b,10,Serial1)});a.PWR_GPRS_ON.reset();
b&&setTimeout(b,1E3)};exports.setCharging=function(d){a.BQ_EN.write(!d)}